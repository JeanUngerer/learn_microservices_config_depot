server:
  port:
    9004
eureka:
  client:
    serviceUrl:
      defaultZone:
        # http://app-eureka:9102/eureka/
        http://localhost:9102/eureka/

rsa:
  private-key: classpath:certs/private.pem
  public-key: classpath:certs/public.pem


spring:
  main:
    allow-bean-definition-overriding: true
    web-application-type: reactive

  # jpa:
 #   generate-ddl: true
 #   show-sql: true
 #   hibernate:
 #     ddl-auto: create-drop
 # datasource:
 #   url: jdbc:mysql://localhost:3306/test_gateway?createDatabaseIfNotExist=true
 #   username: root
 #   password: admin1
  r2dbc:
    url: r2dbc:mysql://localhost:3306/test_gateway?createDatabaseIfNotExist=true
    username: root
    password: admin1
    pool:
      initial-size: 5
      max-size: 10
    generate-ddl: true
    show-sql: true
    hibernate:
      ddl-auto: create-drop
  data:
    mongodb:
      authentication-database: admin
      username: rootuser
      password: rootpass
      database: test_gateway
      port: 27017
      host : localhost

  cloud:
    gateway:
      corsConfigurations:
        "[/**]":
          allowedOrigins: "*"
          allowedHeaders:
            - content-type
            - Authorization
            - Access-Control-Request-Method
            - Access-Control-Request-Headers
          allowedMethods:
            - GET
            - POST
            - DELETE
            - PUT
      routes:
        - id: microservice-produits
          uri: lb://MICROSERVICE-PRODUITS
          predicates:
            - Path=/api/produits/**
          filters:
            - StripPrefix=1
